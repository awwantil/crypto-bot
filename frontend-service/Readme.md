https://tproger.ru/translations/deploy-a-secure-golang-rest-api

INFO[2024-04-07T14:21:25+03:00] resp1: map[USDT:{USDT 4980.455107212083 4920.07177387875 60.383333333333326}]  app=okx-bot component=app.main-rest
INFO[2024-04-07T14:21:25+03:00] resp2: {"code":"0","data":[{"adjEq":"","borrowFroz":"","details":[{"availBal":"4920.07177387875","availEq":"4920.07177387875","borrowFroz":"","cashB
al":"4920.07177387875","ccy":"USDT","clSpotInUseAmt":"","crossLiab":"","disEq":"4981.5508073356705","eq":"4980.455107212083","eqUsd":"4981.5508073356705","fixedBal":"0","frozenBal"
:"60.383333333333326","imr":"0","interest":"","isoEq":"60.383333333333326","isoLiab":"","isoUpl":"0.3799999999999955","liab":"","maxLoan":"","maxSpotInUse":"","mgnRatio":"","mmr":"
0","notionalLever":"0","ordFrozen":"0","rewardBal":"0","smtSyncEq":"0","spotInUseAmt":"","spotIsoBal":"0","stgyEq":"0","twap":"0","uTime":"1712488777025","upl":"0.3799999999999955"
,"uplLiab":""}],"imr":"","isoEq":"60.396617666666664","mgnRatio":"","mmr":"","notionalUsd":"","ordFroz":"","totalEq":"83579.94080733568","uTime":"1712488885622","upl":""}],"msg":""}  app=okx-bot component=app.main-rest


INFO[2024-04-08T17:25:49+03:00] resp1: 
map[USDT:{USDT 4980.919718892807 4920.786385559473 60.13333333333333}]  app=okx-bot component=app.main-rest

INFO[2024-04-08T17:25:49+03:00] resp2: {"code":"0","data":[{"adjEq":"","borrowFroz":"","details":
[{"availBal":"4920.786385559473","availEq":"4920.786385559473","borrowFroz":"","cashBal":"4920.786385559473","ccy":"USDT",
"crossLiab":"","disEq":"4981.26838327313","eq":"4980.919718892807","eqUsd":"4981.26838327313","fixedBal":"0",
"frozenBal":"60.13333333333333",
"imr":"0","interest":"","isoEq":"60.13333333333333","isoLiab":"","isoUpl":"0.0600000000000023","liab":"","maxLoan":"","mgnRatio":"","mmr":"0","notionalLever":"0","ordFrozen":"0","r
ewardBal":"0","smtSyncEq":"0","spotInUseAmt":"","spotIsoBal":"0","stgyEq":"0","twap":"0","uTime":"1712586286269","upl":"0.0600000000000023","uplLiab":""}],"imr":"","isoEq":"60.13754266666667","mgnRatio":"","mmr":"","notionalUsd":"","ordFroz":"","totalEq":"86262.16838327312","uTime":"1712586350746","upl":""}],"msg":""}  app=okx-bot component=app.main-rest    
INFO[2024-04-08T17:25:50+03:00] err: <nil>                                    app=okx-bot component=app.main-rest

INFO[2024-04-08T17:25:50+03:00] resp1: &{SWAP SOL-USDT-SWAP   1344992036067729408  86d4a3bf87bcBCDE     10 0 market sell net isolated 10 180.22 68435015 10 1712586286268 180.22 filled  cancel_maker 3        []              2024-04-08 17:24:46 +0300 MSK 2024-04-08 17:24:46 +0300 MSK}  app=okx-bot component=app.main-rest

INFO[2024-04-08T17:25:50+03:00] resp2: {"code":"0","data":[
{"accFillSz":"10","algoClOrdId":"","algoId":"","attachAlgoClOrdId":"","attachAlgoOrds":[],"avgPx":"180.22","cTime":"1712586286267",
"cancelSource":"","cancelSourceReason":"","category":"normal","ccy":"","clOrdId":"","fee":"-0.09011","feeCcy":"USDT",
"fillPx":"180.22","fillSz":"10","fillTime":"1712586286268",
"instId":"SOL-USDT-SWAP","instType":"SWAP","isTpLimit":"false","lever":"3",
"linkedAlgoOrd":{"algoId":""},"ordId":"1344992036067729408","ordType":"market","pnl":"0","posSide":"net",
"px":"","pxType":"","pxUsd":"","pxVol":"","quickMgnType":"","rebate":"0",
"rebateCcy":"USDT","reduceOnly":"false","side":"sell","slOrdPx":"","slTriggerPx":"","slTriggerPxType"
:"","source":"","state":"filled","stpId":"","stpMode":"cancel_maker","sz":"10",
"tag":"86d4a3bf87bcBCDE","tdMode":"isolated","tgtCcy":"","tpOrdPx":"","tpTriggerPx":"","tpTriggerPxType":"",
"tradeId":"68435015","uTime":"1712586286269"}],"msg":""}  app=okx-bot component=app.main-rest

INFO[2024-04-08T17:25:50+03:00] resp1: 
&{SWAP SOL-USDT-SWAP   1344992036067729408  86d4a3bf87bcBCDE     10 0 market sell net isolated 
10 180.22 68435015 10 1712586286268 180.22 filled  cancel_maker 3        
[]              2024-04-08 17:24:46 +0300 MSK 2024-04-08 17:24:46 +0300 MSK}  app=okx-bot component=app.main-rest


INFO[2024-04-08T17:47:32+03:00] resp4: {"code":"0","data":[{"accFillSz":"10","algoClOrdId":"","algoId":"",
"attachAlgoClOrdId":"","attachAlgoOrds":[],"avgPx":"180.22","cTime":"1712586286267",
"cancelSource":"","cancelSourceReason":"","category":"normal","ccy":"","clOrdId":"","fee":"-0.09011","feeCcy":"USDT",
"fillPx":"180.22","fillSz":"10","fillTime":"1712586286268",
"instId":"SOL-USDT-SWAP","instType":"SWAP","isTpLimit":"false","lever":"3","linkedAlgoOrd":{"algoId":""},
"ordId":"1344992036067729408","ordType":"market","pnl":"0","posSide":"net","px":"","pxType":"","pxUsd":"","pxVol":"",
"quickMgnType":"","rebate":"0","rebateCcy":"USDT","reduceOnly":"false","side":"sell","slOrdPx":"","slTriggerPx":"","slTriggerPxType"
:"","source":"","state":"filled","stpId":"","stpMode":"cancel_maker","sz":"10","tag":"86d4a3bf87bcBCDE",
"tdMode":"isolated","tgtCcy":"","tpOrdPx":"","tpTriggerPx":"","tpTriggerPxType":"","tradeId":"68435015",
"uTime":"1712586286269"}],"msg":""}  app=okx-bot component=app.main-rest

## Порядок работы
1. СОздаем пользователя
POST: http://{{ServerHost}}:{{ServerPort}}/api/user/new
   {
   "email": "user@gmail.com",
   "password": "@pass&"
   }
   2. Регистрируемся в системе:
   POST: http://{{ServerHost}}:{{ServerPort}}/api/user/login
      {
      "email": "user@gmail.com",
      "password": "@pass&"
      }
   Получаем ответ:
      {
            "account": {
            "ID": 1,
            "CreatedAt": "2024-04-17T12:52:30.701514Z",
            "UpdatedAt": "2024-04-17T12:52:30.701514Z",
            "DeletedAt": null,
            "email": "user@gmail.com",
            "password": "",
            "token": "7yJhbGciOiJIUz61NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOjF9.Vcp2grZ53t_OG3jwSXsRwfc_LUjboNgZarkAGiX0jgM"
            },
            "message": "Logged In",
            "status": true
      }
В Header в "Authorization" вставляем "token_password" из .env-файла + token из ответа
      3. Создаем новый сигнал:
         POST: http://{{ServerHost}}:{{ServerPort}}/api/signal/create
               {
                     "nameToken": "SOL",
                     "timeInterval": "30m"
               }
      Запоминаем "Code" из ответа:
         {
            "message": "Signal has been created",
            "signal": {
               "CreatedAt": "2024-08-01T17:29:27.2752848+03:00",
               "UpdatedAt": "2024-08-01T17:29:27.2752848+03:00",
               "DeletedAt": null,
               "ID": 5,
               "Code": "1qEiJdddDVG-L0puPELKg",
               "nameToken": "SOL",
               "timeInterval": "30m",
               "Bots": null
            },
            "status": true
         }
         4. Регистрируем бота
            POST: http://{{ServerHost}}:{{ServerPort}}/api/bot/create
              {
                 "initialAmount": 100.0,
                 "codeSignalId": "1qEiJdddDVG-L0puPELKg"
              }
         Получаем ответ:
            {
              "bot": {
                        "CreatedAt": "0001-01-01T00:00:00Z",
                        "UpdatedAt": "0001-01-01T00:00:00Z",
                        "DeletedAt": null,
                        "ID": 0,
                        "startTime": "2024-08-01T17:34:05.1820811+03:00",
                        "status": 1,
                        "initialAmount": 20,
                        "currentAmount": 20,
                        "signalRefer": 0,
                        "userId": 2,
                        "deals": null
            },
            "message": "Bot has been created",
            "status": true
        }

5. ччч


### ===============================================================
http://185.240.103.204/api/signal/receive
https://www.okx.com/ru/trade-market/info/swap 
{
"id": "{{strategy.order.id}}",
"action": "{{strategy.order.action}}",
"marketPosition": "{{strategy.market_position}}",
"prevMarketPosition": "{{strategy.prev_market_position}}",
"marketPositionSize": "{{strategy.market_position_size}}",
"prevMarketPositionSize": "{{strategy.prev_market_position_size}}",
"instrument": "{{ticker}}",
"signalToken": "9qMiJdddDVG-L0puPELKg",
"timestamp": "{{timenow}}",
"investmentType": "Price and Volume Breakout (40, 20, 200, Long)",
"amount": "{{strategy.order.contracts}}"
}

{
"id": "{{strategy.order.id}}",
"action": "{{strategy.order.action}}",
"marketPosition": "{{strategy.market_position}}",
"prevMarketPosition": "{{strategy.prev_market_position}}",
"marketPositionSize": "{{strategy.market_position_size}}",
"prevMarketPositionSize": "{{strategy.prev_market_position_size}}",
"instrument": "{{ticker}}",
"signalToken": "NnvrhGUNUaYxnc8x0ABao",
"timestamp": "{{timenow}}",
"investmentType": "Multi Trend Cross (ALMA, DEMA, 15, 200, 0.85, 6)",
"amount": "{{strategy.order.contracts}}"
}

{
"id": "{{strategy.order.id}}",
"action": "{{strategy.order.action}}",
"marketPosition": "{{strategy.market_position}}",
"prevMarketPosition": "{{strategy.prev_market_position}}",
"marketPositionSize": "{{strategy.market_position_size}}",
"prevMarketPositionSize": "{{strategy.prev_market_position_size}}",
"instrument": "{{ticker}}",
"signalToken": "qfKrjx-4NoUPfwohSoSpu",
"timestamp": "{{timenow}}",
"investmentType": "Price action and breakout Channel Forexrn [1H,, 48, 14, 2, 3.25, 18, 5]",
"amount": "{{strategy.order.contracts}}"
}

{
"id": "{{strategy.order.id}}",
"action": "{{strategy.order.action}}",
"marketPosition": "{{strategy.market_position}}",
"prevMarketPosition": "{{strategy.prev_market_position}}",
"marketPositionSize": "{{strategy.market_position_size}}",
"prevMarketPositionSize": "{{strategy.prev_market_position_size}}",
"instrument": "{{ticker}}",
"signalToken": "p2KFD9kbtQX9pBCOuHdU_",
"timestamp": "{{timenow}}",
"investmentType": "Price action and breakout Channel Forexrn [2H, 46, 14, 1, 3.5, 18, 5]",
"amount": "{{strategy.order.contracts}}"
}
